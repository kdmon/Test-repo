
<html>
<head>
<script src="https://code.jquery.com/jquery-1.8.2.min.js"></script>
<script src="https://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.js"></script>
<link rel="stylesheet" href="https://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.css" />
<link rel="stylesheet" href="new.css" />


<script>

fetch('https://registrera.oppnadata.se/store/search?type=solr&query=rdfType:http%5C%3A%2F%2Fwww.w3.org%2Fns%2Fdcat%23Dataset&sort=modified+desc&preventCache=7845')
  .then(function(response) {
    // The response is a Response instance.
    // You parse the data into a useable format using `.json()`
    return response.json();
  }).then(function(data) {
    // `data` is the parsed version of the JSON returned from the above endpoint.
    console.log(data);  // { "userId": 1, "id": 1, "title": "...", "body": "..." }
  });

var cars = [

{
"model": "MX-5",
"make": "Mazda",
"year": "1998",
"image": "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4b/2011_Mazda_MX-5_PRHT_--_04-28-2011.jpg/640px-2011_Mazda_MX-5_PRHT_--_04-28-2011.jpg"
},

{
"model": "Enzo",
"make": "Red car",
"year": "2002",
"image": "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a8/RedEnzo.jpg/640px-RedEnzo.jpg"
}

];


function showCar (carIndex) {

    
    // this updates the car details page
    
    var carContainer = document.getElementById("carDetails");
    carContainer.innerHTML = '<h1>' + cars[carIndex].make + " " + cars[carIndex].model +  '(' + cars[carIndex].year + ')' + '</h1>';
    carContainer.innerHTML += '<img src ="' + cars[carIndex].image + '" width="250"/>';

    // this opens the car details page
    $.mobile.changePage('#item', {role: 'dialog'});   

}



// 
$( "#list" ).live ( "pageinit", function( event ) {

    for (i=0; i<cars.length; i++) {
        $("#carList").append ('<li><a data-role="button" href="javascript: showCar(' + i + ');">' + cars[i].make + " " + cars[i].model + '</a></li>');
    }
    
    // this makes sure the buttons are styled
    $("#carList").listview("refresh");
});

</script>
</head>

<body>

    <div data-role="page" id="list">

        <div data-role="header">
            <h1>My favourite vehicles rs gallery application</h1>
        </div>

        <div data-role="content">
        
            <ul data-role="listview" id="carList"></ul>
        
        </div>
        
        <div data-role="footer">
            <h1>&copy; 2013</h1>
        </div>

    </div>
    
    
    
    <div data-role="page" id="item">

        <div data-role="header">
        <h1 id="make">Car details</h1>
        </div>


        <div data-role="content">
        
        <center>
            <div id="carDetails">Insert name and picture here</div>
        </center>
        
        <a href="#" data-rel="back" data-role="button">Back</a>
        
        </div>

        <div data-role="footer">
            <h1>&copy; 2013</h1>
        </div>

    </div>
    

</body>
</html>



